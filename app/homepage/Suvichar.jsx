import Image from 'next/image';
import React, { useEffect, useState } from 'react';

const data = [
	[
		'टाइफाइड बरसात में गंदा पानी या कुए का पानी पीने से हो सकता है',
		'टाइफाइड में लगातार बुखार और सिर दर्द होता है',
		'3 दिन से ज्यादा बुखार हो तो टाइफाइड की जांच कराएं',
		'टाइफाइड समय पर इलाज न हो तो खतरनाक हो सकता है',
		'बार-बार आ रहे बुखार को नजरअंदाज न करें',
	],

	[
		'मलेरिया मच्छर के काटने से फैलता है',
		'मलेरिया में ठंड लगकर तेज बुखार आता है',
		'बुखार के साथ कंपकंपी मलेरिया का लक्षण हो सकता है',
		'घर के आसपास पानी जमा न होने दें',
		'मलेरिया का इलाज समय पर जरूरी है',
	],

	[
		'पीलिया गंदा पानी पीने से होता है',
		'पीलिया में आंख और पेशाब पीला हो जाता है',
		'भूख न लगना और कमजोरी पीलिया के लक्षण हैं',
		'पीलिया में बाहर का खाना न खाएं',
		'देरी करने से पीलिया गंभीर हो सकता है',
	],

	[
		'मिर्गी दिमाग से जुड़ी बीमारी है',
		'मिर्गी में अचानक झटके आते हैं',
		'मिर्गी छूत की बीमारी नहीं है',
		'मिर्गी के मरीज को समय पर दवा जरूरी है',
		'झटके के समय मुंह में कुछ न डालें',
	],

	[
		'दिल की बीमारी ज्यादा तेल और नमक खाने से बढ़ती है',
		'सीने में दर्द दिल की बीमारी का संकेत हो सकता है',
		'सांस फूलना दिल की परेशानी हो सकती है',
		'दिल के मरीज को रोज दवा लेनी चाहिए',
		'सीने के दर्द को कभी हल्के में न लें',
	],

	[
		'सर्दी-जुकाम मौसम बदलने से होता है',
		'नाक बहना और खांसी सर्दी के लक्षण हैं',
		'ज्यादा ठंडा पानी पीने से सर्दी बढ़ सकती है',
		'सर्दी में आराम और गरम पानी फायदेमंद है',
		'बार-बार सर्दी हो तो डॉक्टर दिखाएं',
	],

	[
		'डेंगू मच्छर के काटने से फैलता है',
		'डेंगू में तेज बुखार और शरीर दर्द होता है',
		'डेंगू में प्लेटलेट्स कम हो सकते हैं',
		'डेंगू के बुखार में जांच जरूरी है',
		'खुद से दर्द की दवा न लें',
	],

	[
		'दस्त गंदा खाना या पानी पीने से होते हैं',
		'बार-बार पतला शौच दस्त का लक्षण है',
		'दस्त में शरीर में पानी की कमी हो जाती है',
		'दस्त में ओआरएस जरूर पिएं',
		'बच्चों में दस्त खतरनाक हो सकते हैं',
	],

	[
		'टीबी संक्रमित व्यक्ति की खांसी से फैलता है',
		'2 हफ्ते से ज्यादा खांसी टीबी का लक्षण हो सकता है',
		'वजन कम होना टीबी की पहचान है',
		'टीबी की पूरी दवा लेना जरूरी है',
		'दवा बीच में छोड़ना खतरनाक है',
	],

	[
		'डायबिटीज ज्यादा मीठा खाने से बढ़ती है',
		'बार-बार पेशाब आना डायबिटीज का लक्षण है',
		'ज्यादा प्यास लगना शुगर की पहचान हो सकती है',
		'डायबिटीज में मीठा कम खाना जरूरी है',
		'शुगर की जांच नियमित कराएं',
	],

	[
		'अस्थमा धूल, धुआं और ठंडी हवा से बढ़ता है',
		'अस्थमा में सांस लेने में दिक्कत होती है',
		'सीटी जैसी आवाज सांस की बीमारी का लक्षण है',
		'अस्थमा के मरीज को इनहेलर पास रखना चाहिए',
		'सांस की तकलीफ को नजरअंदाज न करें',
	],

	[
		'खसरा बच्चों में फैलने वाली बीमारी है',
		'खसरे में बुखार और लाल दाने निकलते हैं',
		'खसरा छूत की बीमारी है',
		'टीकाकरण से खसरा रोका जा सकता है',
		'बच्चों के टीके समय पर लगवाएं',
	],

	[
		'दमा पुराने सांस के रोग से हो सकता है',
		'दमे में सांस फूलना आम लक्षण है',
		'रात में सांस ज्यादा फूलना खतरे का संकेत है',
		'धूल और धुएं से दूर रहें',
		'दमे की दवा बिना पूछे बंद न करें',
	],

	[
		'लकवा दिमाग में खून की नली बंद होने से होता है',
		'लकवे में शरीर का एक हिस्सा सुन्न हो जाता है',
		'बोलने में परेशानी लकवे का लक्षण हो सकता है',
		'लकवे में तुरंत अस्पताल ले जाना जरूरी है',
		'देरी करने से जान को खतरा हो सकता है',
	],

	[
		'किडनी की बीमारी कम पानी पीने से बढ़ सकती है',
		'पैर और चेहरे पर सूजन किडनी का लक्षण है',
		'पेशाब में जलन या कमी परेशानी का संकेत है',
		'पानी सही मात्रा में पिएं',
		'सूजन को हल्के में न लें',
	],

	[
		'हेपेटाइटिस गंदा पानी पीने से हो सकता है',
		'हेपेटाइटिस में थकान और उल्टी होती है',
		'आंख और पेशाब का रंग पीला हो सकता है',
		'साफ पानी और साफ खाना जरूरी है',
		'लक्षण दिखें तो जांच कराएं',
	],

	[
		'त्वचा की बीमारी गंदगी से फैल सकती है',
		'खुजली और लाल दाने त्वचा रोग के लक्षण हैं',
		'त्वचा रोग छूने से फैल सकता है',
		'शरीर और कपड़े साफ रखें',
		'खुजली को नजरअंदाज न करें',
	],
	[
		'आंखों की बीमारी गंदे हाथों से आंख छूने से फैल सकती है',
		'आंख लाल होना और पानी आना इसके लक्षण हैं',
		'आंखों में खुजली होने पर बार-बार न रगड़ें',
		'आंखों को साफ पानी से धोते रहें',
		'आंखों की परेशानी को नजरअंदाज न करें',
	],
	[
		'बच्चों में निमोनिया ठंडी हवा और संक्रमण से होता है',
		'तेज सांस चलना और बुखार इसके लक्षण हैं',
		'बच्चा दूध न पिए तो खतरे का संकेत हो सकता है',
		'बच्चे को गरम रखें',
		'देरी न करें तुरंत डॉक्टर दिखाएं',
	],

	[
		'बच्चों में कुपोषण सही खाना न मिलने से होता है',
		'वजन कम होना और कमजोरी इसके लक्षण हैं',
		'बच्चा बार-बार बीमार पड़े तो ध्यान दें',
		'बच्चों को समय पर पौष्टिक आहार दें',
		'कुपोषण बच्चे के विकास को रोक देता है',
	],

	[
		'बच्चों में कीड़े गंदे हाथ और नंगे पांव चलने से होते हैं',
		'पेट दर्द और वजन न बढ़ना इसके लक्षण हैं',
		'बच्चा मिट्टी खाता है तो सावधान रहें',
		'हाथ साफ रखने की आदत डालें',
		'समय पर दवा दिलवाएं',
	],

	[
		'महिलाओं में खून की कमी सही भोजन न मिलने से होती है',
		'कमजोरी और चक्कर इसके आम लक्षण हैं',
		'हाथ-पैर ठंडे रहना खून की कमी का संकेत हो सकता है',
		'हरी सब्जियां और दाल खाएं',
		'कमजोरी को नजरअंदाज न करें',
	],

	[
		'गर्भावस्था में जांच न कराने से खतरा बढ़ता है',
		'सूजन और तेज सिर दर्द परेशानी का संकेत है',
		'पेट में तेज दर्द होने पर सावधान रहें',
		'गर्भवती महिला को आराम जरूरी है',
		'समय पर अस्पताल जांच कराएं',
	],

	[
		'महिलाओं में पेशाब की जलन संक्रमण का संकेत हो सकती है',
		'बार-बार पेशाब आना इसके लक्षण हैं',
		'पेट के निचले हिस्से में दर्द हो सकता है',
		'साफ-सफाई का ध्यान रखें',
		'दर्द बढ़े तो डॉक्टर दिखाएं',
	],

	[
		'छोटे बच्चों में दस्त गंदा पानी या दूध से हो सकते हैं',
		'बार-बार पतला शौच दस्त का लक्षण है',
		'दस्त में बच्चा सुस्त हो सकता है',
		'दस्त में ओआरएस जरूर पिलाएं',
		'बच्चे को सूखने न दें',
	],

	[
		'छोटे बच्चों में बुखार संक्रमण का संकेत हो सकता है',
		'बुखार के साथ सुस्ती खतरे की निशानी है',
		'दूध न पीना बुखार में ध्यान देने वाली बात है',
		'बुखार 2 दिन से ज्यादा रहे तो जांच कराएं',
		'छोटे बच्चे में देरी न करें',
	],

	[
		'छोटे बच्चों में सांस की बीमारी ठंड और संक्रमण से होती है',
		'तेज सांस चलना खतरे का लक्षण है',
		'सीना धंसना गंभीर संकेत हो सकता है',
		'बच्चे को गरम और साफ जगह रखें',
		'सांस की तकलीफ में तुरंत अस्पताल जाएं',
	],

	[
		'छोटे बच्चों में त्वचा पर दाने गंदगी से हो सकते हैं',
		'लाल दाने और खुजली इसके लक्षण हैं',
		'दाने बढ़ें तो सावधान रहें',
		'बच्चे को रोज साफ पानी से नहलाएं',
		'खुजली को हल्के में न लें',
	],

	[
		'छोटे बच्चों में खसरा टीका न लगने से होता है',
		'बुखार के बाद लाल दाने निकलते हैं',
		'आंख लाल होना खसरे का संकेत है',
		'टीकाकरण से खसरा रोका जा सकता है',
		'बच्चों के टीके समय पर लगवाएं',
	],

	[
		'पेट में कीड़े गंदे हाथ और मिट्टी खाने से होते हैं',
		'पेट दर्द और वजन न बढ़ना इसके लक्षण हैं',
		'बच्चा बार-बार बीमार पड़े तो ध्यान दें',
		'हाथ धोने की आदत डालें',
		'समय पर दवा दिलवाएं',
	],

	[
		'कान का इंफेक्शन गंदा पानी जाने से हो सकता है',
		'कान में दर्द और पस आना इसके लक्षण हैं',
		'बच्चा कान बार-बार छुए तो सावधान रहें',
		'कान में तेल या कुछ न डालें',
		'दर्द हो तो डॉक्टर दिखाएं',
	],

	[
		'मुंह के छाले कमजोरी या गंदगी से होते हैं',
		'खाने में जलन और दर्द होता है',
		'बार-बार छाले हों तो ध्यान दें',
		'साफ पानी और साफ खाना लें',
		'छालों को नजरअंदाज न करें',
	],

	[
		'डिहाइड्रेशन कम पानी पीने से होता है',
		'मुंह सूखना और सुस्ती इसके लक्षण हैं',
		'छोटे बच्चों में यह जल्दी होता है',
		'पानी और ओआरएस पिलाएं',
		'देरी करने से हालत बिगड़ सकती है',
	],

	[
		'गला खराब होना ठंडी चीजें खाने से होता है',
		'गले में दर्द और खराश इसके लक्षण हैं',
		'बोलने में तकलीफ हो सकती है',
		'गरम पानी पिएं',
		'ज्यादा ठंडा न खाएं',
	],

	[
		'आंतों का इंफेक्शन गंदे खाने से फैलता है',
		'पेट दर्द और दस्त इसके लक्षण हैं',
		'बच्चा सुस्त हो सकता है',
		'साफ खाना और पानी दें',
		'डॉक्टर की सलाह लें',
	],

	[
		'त्वचा में फंगल इंफेक्शन नमी से होता है',
		'खुजली और गोल दाने इसके लक्षण हैं',
		'ज्यादा पसीना आने पर बढ़ता है',
		'शरीर सूखा और साफ रखें',
		'खुजली को हल्के में न लें',
	],

	[
		'नाक से खून आना कमजोरी या चोट से हो सकता है',
		'बार-बार नाक से खून आना ठीक नहीं है',
		'गर्मी में यह ज्यादा होता है',
		'नाक में उंगली न डालें',
		'जांच कराना जरूरी है',
	],

	[
		'पेट की गैस गलत खाने से बनती है',
		'पेट फूलना और जलन इसके लक्षण हैं',
		'खाने के बाद बेचैनी हो सकती है',
		'हल्का और समय पर खाना खाएं',
		'बहुत तला खाना न खाएं',
	],

	[
		'बालों में जूं गंदगी से फैलती हैं',
		'सिर में खुजली इसके लक्षण हैं',
		'बच्चों में ज्यादा होती हैं',
		'बाल साफ रखें',
		'कंघी साझा न करें',
	],

	[
		'दांत दर्द गंदगी और मीठा ज्यादा खाने से होता है',
		'दांत में सूजन और दर्द इसके लक्षण हैं',
		'बच्चा खाना न खाए तो ध्यान दें',
		'रोज दांत साफ कराएं',
		'दांत दर्द को नजरअंदाज न करें',
	],

	[
		'बच्चों में उल्टी गंदा खाना खाने से होती है',
		'बार-बार उल्टी खतरे का संकेत है',
		'बच्चा कमजोर हो सकता है',
		'थोड़ा-थोड़ा तरल पिलाएं',
		'ज्यादा हो तो जांच कराएं',
	],

	[
		'आंखों में इंफेक्शन गंदे हाथ से फैलता है',
		'आंख लाल होना और पानी आना लक्षण हैं',
		'सुबह आंख चिपकना संकेत है',
		'आंखों को साफ रखें',
		'आंख रगड़ने से बचें',
	],

	[
		'कब्ज कम पानी और रेशा न खाने से होती है',
		'पेट साफ न होना इसका लक्षण है',
		'बच्चा चिड़चिड़ा हो सकता है',
		'फल और पानी दें',
		'कब्ज को हल्के में न लें',
	],

	[
		'महिलाओं में कमर दर्द ज्यादा काम से होता है',
		'लगातार दर्द परेशानी का संकेत है',
		'आराम न मिलने से दर्द बढ़ता है',
		'सही बैठने की आदत डालें',
		'दर्द बढ़े तो जांच कराएं',
	],

	[
		'महिलाओं में मासिक धर्म की परेशानी कमजोरी से होती है',
		'पेट दर्द और चक्कर लक्षण हो सकते हैं',
		'बहुत ज्यादा दर्द ठीक नहीं है',
		'आराम और साफ-सफाई रखें',
		'डॉक्टर से सलाह लें',
	],

	[
		'गर्भावस्था में उल्टी कमजोरी का कारण बन सकती है',
		'ज्यादा उल्टी खतरे का संकेत है',
		'खाना न पचना समस्या हो सकती है',
		'थोड़ा-थोड़ा भोजन करें',
		'समय पर जांच कराएं',
	],

	[
		'बच्चों में वजन न बढ़ना कुपोषण का संकेत है',
		'बार-बार बीमार पड़ना लक्षण है',
		'बच्चा सुस्त रह सकता है',
		'पौष्टिक आहार दें',
		'आंगनवाड़ी में जांच कराएं',
	],

	[
		'तेज धूप में खेलना बच्चों के लिए खतरनाक है',
		'चक्कर और उल्टी लू के लक्षण हैं',
		'बच्चा सुस्त हो सकता है',
		'छांव में रखें',
		'पानी पिलाते रहें',
	],

	[
		'बार-बार सर्दी कमजोर प्रतिरोधक शक्ति का संकेत है',
		'नाक बहना और खांसी लक्षण हैं',
		'बच्चा ठीक से न सोए तो ध्यान दें',
		'साफ हवा और पोषण जरूरी है',
		'बार-बार हो तो जांच कराएं',
	],
];

const Suvichar = () => {
	const [loading, setLoading] = useState(false);

	const ROTATION_DELAY = 6000; // 4 seconds per message

	const [groupIndex, setGroupIndex] = useState(0);
	const [messageIndex, setMessageIndex] = useState(0);
	const [message, setMessage] = useState('');
	const [isChangingGroup, setIsChangingGroup] = useState(false);

	// 1️⃣ Pick a random group (disease)
	const pickRandomGroup = () => {
		return Math.floor(Math.random() * data.length);
	};

	useEffect(() => {
		if (!data?.length || isChangingGroup) return;

		const currentGroup = data[groupIndex];
		if (!currentGroup?.length) return;

		setMessage(currentGroup[messageIndex]);

		const rotationTimer = setTimeout(() => {
			if (messageIndex < currentGroup.length - 1) {
				setMessageIndex((prev) => prev + 1);
			} else {
				setIsChangingGroup(true);
				setLoading(true);
			}
		}, ROTATION_DELAY);

		return () => clearTimeout(rotationTimer);
	}, [groupIndex, messageIndex, data, isChangingGroup]);

	useEffect(() => {
		if (!isChangingGroup) return;

		const loadingTimer = setTimeout(() => {
			setLoading(false);
			setGroupIndex((prev) => pickRandomGroup(prev));
			setMessageIndex(0);
			setIsChangingGroup(false);
		}, 1000);

		return () => clearTimeout(loadingTimer);
	}, [isChangingGroup]);

	return (
		<section
			className='relative overflow-hidden  rounded-2xl py-4 pr-4 pl-3  lotus-bg
			backdrop-blur-md
  			shadow-[0_10px_20px_rgba(0,0,0,0.40)]
 			 hover:shadow-[0_16px_40px_rgba(0,0,0,0.22)]
 			 hover:-translate-y-1
 			 transition-all duration-300 ease-out'>
			{/* subtle cloud motion overlay */}
			<div className='absolute inset-0 cloud-float opacity-60 pointer-events-none' />

			<div className='relative flex flex-row'>
				<div className='flex flex-row justify-start items-center gap-1'>
					<Image
						src='https://8dxblayock8syelc.public.blob.vercel-storage.com/homepage/pngwing.com.png'
						width={50}
						height={50}
						alt='Lotus'
						className='drop-shadow-[0_0_6px_rgba(255,255,255,0.6)]'
					/>

					<span className='relative '>
						{loading ? (
							<div className='mt-2 space-y-2'>
								<div className='h-3 w-48 rounded-md bg-white/40 shimmer' />
								<div className='h-3 w-36 rounded-md bg-white/30 shimmer' />
							</div>
						) : (
							<>
								<h3 className='font-semibold text-md text-green-800'>
									स्वास्थ्य को समर्पित - वर्ष 2026
								</h3>
								<span
									key={message}
									className='block mt-1 text-sm font-bold text-green-900 opacity-90 animate-message'>
									"{message}"
								</span>
							</>
						)}
					</span>
				</div>
			</div>
		</section>
	);
};

export default Suvichar;
